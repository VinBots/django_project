{% load static %}
<article id="aboutus" class="post">
    <header>
        <div class="title">
            <h2>Corporates Leaderboard</h2>
            <p>Under development</p>
        </div>
    </header>
    <div class="container" width=100%>

        <table id="example" class="lb_corporates" data-show-columns="true">
            <thead>
                <tr>
                    <th></th>
                    <th>Rank</th>
                    <th>Corporate</th>
                    <th>Transparency</th>
                    <th>Commitments</th>
                    <th>Actions</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>

                {% for i in scores %}
                <tr>
                    <td><img src="{% static 'django_project/images/logos/' %}logo_{{i.company_id}}.png" alt="picture_2">
                    </td>
                    <td>{{i.rank}}</td>
                    <td><a href="{% url 'corporates_home'%}{{i.company_name}}" title = "{{i.company_name}}">{{i.company_name}}</a></td>
                    <td>{{i.transp_score}}</td>
                    <td>{{i.comm_score}}</td>
                    <td>{{i.actions_score}}</td>
                    <td>{{i.score}}</td>
                </tr>

                {% endfor %}


            </tbody>
            <tfoot>
            </tfoot>
        </table>
    </div>

    <footer>
    </footer>
</article>

<script>
    $(document).ready(function () {
        $('#example').DataTable(
            {                
                responsive: true,
                columnDefs: [
                    { responsivePriority: 1, targets: 0 },
                    { 
                        targets: -1,
                        responsivePriority: 2, 
                        render: $.fn.dataTable.render.percentBar('round','#000000', '#0d3532', '#2ebaae', '#def7f5', 1, 'solid')},
                    { responsivePriority: 3, targets: 1 },
                    { responsivePriority: 4, targets: 2 },
                    {targets:3, render: $.fn.dataTable.render.number(',', '.', 1,'','%')},
                    {targets:4, render: $.fn.dataTable.render.number(',', '.', 1,'','%')},
                    {targets:5, render: $.fn.dataTable.render.number(',', '.', 1,'','%')}
                ],
                order:[[6, 'desc']],
            }
        );
    });
</script>